<!-- orders-overview.component.html -->
<div>
  <h2 class="mb-4 text-xl font-bold">Orders Overview</h2>
  <div class="overflow-x-auto p-4">
  <table class="min-w-full border border-gray-400 text-sm text-left rounded-lg ">
    <thead class="bg-gray-200 text-gray-700 uppercase  border-gray-400 text-xs">
      <tr>
        <th class="px-4 py-2">Order ID</th>
        <th class="px-4 py-2">City</th>
        <th class="px-4 py-2">Status</th>
        <th class="px-4 py-2">Date</th>
        <th class="px-4 py-2">Products</th>
        <th class="px-4 py-2">Total Price</th>
        <th class="px-4 py-2 text-center">Actions</th>
      </tr>
    </thead>
    <tbody class="divide-y divide-gray-400">
      <tr *ngFor="let order of pageOrders">
        <td class="px-4 py-2 text-center">
          {{
            order._id.length > 10
              ? (order._id | slice : 0 : 10) + "..."
              : order._id
          }}
        </td>
        <td class="px-4 py-2 text-center">{{ order.address.city }}</td>
        <td class="px-4 py-2 text-center">{{ order.status }}</td>
        <td class="px-4 py-2 text-center">{{ order.date }}</td>
        <td class="px-4 py-2 text-center">
          <ul *ngFor="let product of order.uniqueProducts">
            <li>
              {{ getProductName(product) }}
            </li>
          </ul>
        </td>
        <td class="px-4 py-2 text-center">{{ order.totalPrice }}</td>
        <td class="px-4 py-2 text-center">
          <button
            class="px-2 py-1 mx-3 text-white bg-green-900 rounded"
            (click)="acceptOrder(order)"
            [disabled]="
              order.status === 'rejected' || order.status === 'accepted'
            "
            [ngClass]="
              order.status === 'rejected' || order.status === 'accepted'
                ? 'opacity-50'
                : ''
            "
          >
            Accept
          </button>
          <button
            class="px-2 py-1 mx-3 text-white bg-red-500 rounded"
            (click)="rejectOrder(order)"
            [disabled]="
              order.status === 'rejected' || order.status === 'accepted'
            "
            [ngClass]="
              order.status === 'rejected' || order.status === 'accepted'
                ? 'opacity-50'
                : ''
            "
          >
            Reject
          </button>
        </td>
      </tr>
    </tbody>
  </table>
  </div>
 <div  class="mt-4 flex justify-end">
  <mat-paginator
    [length]="10" 
    [pageSize]="pageSize"
    [pageIndex]="currentPage"
    [pageSizeOptions]="[5, 10, 20]"
    (page)="onPageChange($event)"
    
    class="!rounded-lg !px-4 !py-2 !text-gray-700"
    aria-label="Select page">
  </mat-paginator>
  </div>
</div>
